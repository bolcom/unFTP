[package]
name = "unftp"
version = "0.7.0"
authors = [
    "Agoston Horvath <ahorvath@bol.com>",
    "DÃ¡vid Kosztka <dkosztka@bol.com>",
    "Hannes de Jager <hdejager@bol.com>",
    "Koen Wilde <koen@chillheid.nl>",
    "Maarten Dirkse <mdirkse@bol.com>",
    "Steven Meunier <smeunier@bol.com>",
    "Rob klein Gunnewiek <rkleingunnewiek@bol.com>"
]
edition = "2018"
description = "When you need to FTP, but don't want to."
repository = "https://github.com/bolcom/unFTP"
license = "Apache-2.0"
readme = "README.md"

[dependencies]
#libunftp = "0.5.1"
libunftp = { git="https://github.com/bolcom/libunftp" }
log = "0.4"
env_logger = "0.6"
redis = "0.9.0"
serde_json = "1.0"
chrono = "0.4.6"
r2d2 = "0.8.3"
r2d2_redis = "0.8.0"
slog = { version = "2.4.1", features = ["max_level_trace", "release_max_level_warn"] }
slog-term = "2.4.0"
slog-async = "2.3.0"
slog-stdlog = "4.0.0"
slog-scope = "4.0.0"
# Hyper 12 is only needed because the auth plugin needs a type from it
hyper12 = { package="hyper", version = "0.12.25"}
hyper = "0.13"
http = "0.1"
prometheus = "0.7"
futures01 = { package = "futures", version = "0.1"}
tokio01 = { package="tokio", version = "0.1"}
tokio-compat = { version = "0.1", features = ["rt-full"] }
clap = "2.33.0"
yup-oauth2 = {version = "3.1.0"}
lazy_static = "1.3.0"

[features]
pam = ["libunftp/pam"]
cloud_storage = ["libunftp/cloud_storage"]
rest = ["libunftp/rest"]
jsonfile_auth = ["libunftp/jsonfile_auth"]

# build everything by default to make sure build works
default = ["rest", "cloud_storage", "pam"]

# features that are compatible with docker builds
# pam is disabled in most docker images as it requires libc (consequently, cannot compile static either)
docker = ["rest", "cloud_storage"]

# only used in build.rs
static = []

[build-dependencies]
built = "0.3"